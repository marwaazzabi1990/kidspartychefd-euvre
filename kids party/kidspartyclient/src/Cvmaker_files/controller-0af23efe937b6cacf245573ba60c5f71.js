webpackJsonp([9],{8:function(e,t,r){r("hC4F"),e.exports=r("bnjt")},MBxv:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name=e,this.params=t},i=c,s=r("w+Lg"),u=r("ZAKj"),l=r("oTrx"),d=function(e){return null!=e&&"function"==typeof e.toString?e.toString():""},p=function(e){return d(e).replace(/(\d\s*\+*%*){6}[\d\s+%]+/g,"<sanitized>")},_=function(e){return d(e).replace(/((?:password|pass|pwd)[^=]*=)[^&]*/gi,"$1<sanitized>")},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e){var t={};return function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.keys(r).forEach(function(n){var o=(a+"-"+n).replace(/^-/,""),c=r[n];null!=c&&("object"===(void 0===c?"undefined":b(c))?Array.isArray(c)?t[o]=c.join(" "):e(c,o):t[o]=c)})}(e),t},h={features:!0,key:!0,stripe_js_id:!0,event_count:!0,timestamp:!0,frame_width:!0,version:!0,event:!0,resource_timings:!0,mount_duration:!0,dom_complete:!0,dom_interactive:!0,source_id:!0,token_id:!0,start:!0,end:!0,logger_id:!0,time_from_pm_to_confirm:!0,time_to_create_pm:!0,time_from_confirm_to_poll_start:!0,time_polling:!0},v=function(){function e(){a(this,e)}return f(e,[{key:"request",value:function(e){(new Image).src=s.i+"?"+e}},{key:"send",value:function(e){var t=m({event:e.name},y(e.params)),r=Object(l.e)(t,function(e,t){if(e.length>8e3)return"<toolong>";if(0===t.indexOf("resourceTiming["))return e;if(h[t.split("-")[0]])return e;var r=_(e);return p(r)});this.request(Object(u.a)(r))}}]),e}(),j=v,O=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),g=(function(){function e(){n(this,e)}O(e,[{key:"send",value:function(e){var t=e.params.element?""+e.params.element:"?";window.console&&console.group&&(console.groupCollapsed("%c["+t+" -> Logger]: "+e.name,"color: blue"),console.info(JSON.stringify(e.params,null,"  ")),console.groupEnd())}}])}(),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}),P=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),k=function(){function e(t,r){o(this,e),this.transports=t,this.eventCount=0,this.isRunningTests=r}return P(e,[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],a={event_count:++this.eventCount,timestamp:Date.now(),version:s.k,running_tests:this.isRunningTests},n=g({},a,t);this.transports.forEach(function(t){t.send(new i(""+r+e,n))})}}]),e}(),w=[];w.push(new j);var E=new k(w,!1);t.a=E},OYjF:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return o});var a=new RegExp("^(?:4[0-9]{15}|(?:5[1-5]|2[2-7])[0-9]{14}|3[47][0-9]{13}|6[045][0-9]{14}|3[089][0-9]{14}|36[0-9]{12}|35[0-9]{14}|62[0-9]{14})$"),n=function(e){for(var t="0".charCodeAt(0),r=e.length%2,a=0,n=e.length-1;n>=0;--n){var o=n%2===r,c=e.charCodeAt(n)-t;o&&(c*=2),c>9&&(c-=9),a+=c}return a%10==0},o=function(e){if("string"!=typeof e)return!1;var t=e.replace(/[\s-]+/g,""),r=t.match(/\d{13,}/g);return!!r&&r.some(function(e){return a.test(e)&&n(e)})}},bnjt:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}Object.defineProperty(t,"__esModule",{value:!0});var d,p,_,m=r("IhPv"),f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(window.console){var a=window.console.warn;a.apply?a.apply(window.console,t):a(t.join(" "))}},b=f,y=r("kSHn"),h=r("x38n"),v=r("iC45"),j={checkout_beta_2:"checkout_beta_2",checkout_beta_3:"checkout_beta_3",checkout_beta_4:"checkout_beta_4",checkout_beta_testcards:"checkout_beta_testcards",payment_intent_beta_1:"payment_intent_beta_1",payment_intent_beta_2:"payment_intent_beta_2",payment_intent_beta_3:"payment_intent_beta_3",card_payment_method_beta_1:"card_payment_method_beta_1",acknowledge_ie9_deprecation:"acknowledge_ie9_deprecation",cvc_update_beta_1:"cvc_update_beta_1",google_pay_beta_1:"google_pay_beta_1",acss_debit_beta_1:"acss_debit_beta_1",afterpay_clearpay_pm_beta_1:"afterpay_clearpay_pm_beta_1",alipay_pm_beta_1:"alipay_pm_beta_1",au_bank_account_beta_1:"au_bank_account_beta_1",au_bank_account_beta_2:"au_bank_account_beta_2",bacs_debit_beta:"bacs_debit_beta",bancontact_pm_beta_1:"bancontact_pm_beta_1",boleto_pilot_pm_beta_1:"boleto_pilot_pm_beta_1",eps_pm_beta_1:"eps_pm_beta_1",fpx_bank_beta_1:"fpx_bank_beta_1",giropay_pm_beta_1:"giropay_pm_beta_1",grabpay_pm_beta_1:"grabpay_pm_beta_1",ideal_pm_beta_1:"ideal_pm_beta_1",oxxo_pm_beta_1:"oxxo_pm_beta_1",p24_pm_beta_1:"p24_pm_beta_1",paypal_pm_beta_1:"paypal_pm_beta_1",sepa_pm_beta_1:"sepa_pm_beta_1",sofort_pm_beta_1:"sofort_pm_beta_1",wechat_pay_pm_beta_1:"wechat_pay_pm_beta_1",checkout_beta_locales:"checkout_beta_locales",stripe_js_beta_locales:"stripe_js_beta_locales",ideal_sepa_beta_1:"ideal_sepa_beta_1",sofort_sepa_beta_1:"sofort_sepa_beta_1",bancontact_sepa_beta_1:"bancontact_sepa_beta_1",upi_beta_1:"upi_beta_1"},O=Object.keys(j),g=(Object(v.w)({name:Object(v.s)("react-stripe-js","stripe-js","react-stripe-elements"),version:Object(v.p)(v.y)}),function(e){var t={wrapper:"unknown",wrapper_version:null,es_module:!1,es_module_version:null};return e.forEach(function(e){"stripe-js"===e.name?(t.es_module=!0,e.version&&!t.es_module_version&&(t.es_module_version=e.version)):t.wrapper_version||(t.wrapper=e.name,t.wrapper_version=e.version)}),t}),P=r("/c/z"),k=r("BsYB"),w=r("oTrx"),E=r("11CF"),S=r("B4vs"),T=r("PjFh"),F=r("ZGQG"),I=function(e){for(var t="",r=0;r<e.length;++r)t+=String.fromCharCode(5^e.charCodeAt(r));return t},M=function(e){var t=3-e.length%3;return""+e+new Array(t+1).join(" ")},C=function(e){return encodeURIComponent(btoa(I(M(e))))},N=r("vN1N"),R=r("bW5Y"),x=r("afZ+"),A={alipay:"alipay",afterpay_clearpay:"afterpay_clearpay",au_becs_debit:"au_becs_debit",acss_debit:"acss_debit",bacs_debit:"bacs_debit",bancontact:"bancontact",boleto_pilot:"boleto_pilot",card:"card",eps:"eps",fpx:"fpx",giropay:"giropay",grabpay:"grabpay",ideal:"ideal",oxxo:"oxxo",p24:"p24",paypal:"paypal",sepa_debit:"sepa_debit",sofort:"sofort",three_d_secure:"three_d_secure",upi:"upi",wechat_pay:"wechat_pay"},D=(d={},a(d,x.a.auBankAccount,A.au_becs_debit),a(d,x.a.card,A.card),a(d,x.a.cardNumber,A.card),a(d,x.a.cardExpiry,A.card),a(d,x.a.cardCvc,A.card),a(d,x.a.postalCode,A.card),a(d,x.a.iban,A.sepa_debit),a(d,x.a.idealBank,A.ideal),a(d,x.a.fpxBank,A.fpx),d),W=function(e){return-1===x.e.indexOf(e)},z=function(e,t){return null!=t?t:W(e)?null:D[e]||null},U=(Object,function(e){switch(e.tag){case"source-from-element":case"paymentMethod-from-element":return e.elementName;case"source-from-data":case"paymentMethod-from-data":case"source":case"paymentMethod":case"none":return null;default:return Object(m.a)(e)}}),L={_componentName:v.y,_frame:Object(v.w)({id:v.y})},q=Object(v.w)(L),B=function(e){var t=Object(v.G)(q,e,"");return"error"===t.type?null:t.value},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V=function(e){return{code:"payment_intent_unexpected_state",doc_url:"https://stripe.com/docs/error-codes/payment-intent-unexpected-state",payment_intent:e,type:"invalid_request_error"}},Y=function(e){return{code:"setup_intent_unexpected_state",doc_url:"https://stripe.com/docs/error-codes/setup-intent-unexpected-state",setup_intent:e,type:"invalid_request_error"}},J=function(e){switch(e.object){case"payment_intent":return V(e);case"setup_intent":return Y(e);default:return Object(m.a)(e)}},K=function(e){return{code:"payment_intent_authentication_failure",doc_url:"https://stripe.com/docs/error-codes/payment-intent-authentication-failure",payment_intent:e,type:"invalid_request_error"}},G=function(e){return{code:"setup_intent_authentication_failure",doc_url:"https://stripe.com/docs/error-codes/setup-intent-authentication-failure",setup_intent:e,type:"invalid_request_error"}},Z=function(e){switch(e.object){case"payment_intent":return e.last_payment_error?H({},e.last_payment_error,{payment_intent:e}):K(e);case"setup_intent":return e.last_setup_error?H({},e.last_setup_error,{setup_intent:e}):G(e);default:return Object(m.a)(e)}},$=function(e){return{type:"error",error:e}},Q=function(e){if("error"===e.type)return e;var t=e.object;switch(t.status){case"requires_confirmation":case"requires_capture":case"succeeded":return e;case"canceled":return $(J(t));default:return $(Z(t))}},X=r("0nsC"),ee=r("w+Lg"),te=r("2XcD"),re=r("MBxv"),ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ae({frame_width:window.innerWidth},t);re.a.log(e,r,"elements.")},oe={log:ne},ce="stripe.js/"+ee.k,ie=ce+"; stripe-js-v3/"+ee.k,se=ie+"; raw-card",ue=ie+"; create-source-card-data",le={account:"account",bank_account:"bank_account",card:"card",person:"person",pii:"pii",cvc_update:"cvc_update"},de=(p={},n(p,x.a.card,le.card),n(p,x.a.cardNumber,le.card),n(p,x.a.cardExpiry,le.card),n(p,x.a.cardCvc,le.card),n(p,x.a.postalCode,le.card),n(p,x.a.iban,le.bank_account),p),pe=r("h8J9"),_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},me=Object.freeze({}),fe=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:me;return Object(pe.a)({url:e,method:t,data:r,headers:a.headers}).then(function(e){a.logResult&&a.logResult(e);var t=JSON.parse(e.responseText);return 200===e.status?{type:"object",object:t}:{type:"error",error:a.includeErrorStatus?_e({},t.error,{status:e.status||0}):t.error}})},be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he=["connectEnd","connectStart","domainLookupEnd","domainLookupStart","duration","fetchStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","startTime"],ve=function(e){var t=e;return Object(w.i)(t,he)},je=function(e){if(e&&window.performance&&window.performance.getEntriesByName){var t=window.performance.getEntriesByName(e);if(!t||0===t.length)return{errorMsg:"No resource timing entries found"};return ve(t[t.length-1])}},Oe=function(e,t){var r={};if(!e)return r;return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.keys(t).forEach(function(n){var o=(a+"["+n+"]").replace(/^-/,""),c=t[n];null!=c&&("object"===(void 0===c?"undefined":ye(c))?e(c,o):r[o]=c)})}(e,t),r},ge=function(e){return e.hasOwnProperty("card")?"card":e.hasOwnProperty("bank_account")?"bank_account":e.hasOwnProperty("pii")?"pii":e.hasOwnProperty("apple_pay")?"apple_pay":"unknown"},Pe=function(e,t,r,a){if(a.getResponseHeader&&a.responseURL){var n=ge(r),o=new R.a,c=je(a.responseURL);re.a.log("rum.stripejs",be({requestId:a.getResponseHeader("Request-Id"),tokenType:n,url:t,status:a.status,start:e.getAsPosixTime(),end:o.getAsPosixTime()},Oe(c,"resourceTiming"),{version:3,paymentUserAgent:ie}),"")}},ke=Pe,we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ee=ee.a,Se=function(){},Te=function(e){var t=Object(F.a)(e);return(t===ee.a||(Object(P.b)(e),!1))&&(Ee=t,!0)},Fe=function(e){Se=e},Ie=Object.freeze({}),Me=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ie;Se();var n=new R.a,o=""+Ee+e;return fe(o,t,r,we({},a,{logResult:function(e){ke(n,o,r,e)}}))},Ce=function(e){return function(t){return Me(e,"POST",t)}},Ne=function(e,t){return{type:"input_validation_error",code:e,param:t}},Re=Ne,xe=r("OYjF"),Ae=(_={},o(_,x.a.cardNumber,"number"),o(_,x.a.cardExpiry,"exp"),o(_,x.a.cardCvc,"cvc"),o(_,x.a.postalCode,"zip"),_),De=function(e){return e.filter(function(e){return Ae[e]}).map(function(e){return Ae[e]}).join(",")},We=new RegExp(""+ee.f,"g"),ze=function(e){return Object(w.e)(e,function(e){return e.replace(We,"")})},Ue=r("ymeh"),Le=function(e){var t=e.cardExpiry?e.cardExpiry.replace(new RegExp("^"+ee.f),"").split(" / "):[],r={number:e.cardNumber&&Object(Ue.a)(e.cardNumber),cvc:e.cardCvc||void 0,exp_month:t[0],exp_year:t[1]},a=e.postalCode?{address:{postal_code:e.postalCode}}:{},n={address_zip:e.postalCode||void 0};return{card:Object(w.j)(r,function(e,t){return void 0!==t}),owner:Object(w.j)(a,function(e,t){return void 0!==t}),legacyOwner:Object(w.j)(n,function(e,t){return void 0!==t})}},qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be=function(e){if(e&&"object"===(void 0===e?"undefined":qe(e))){var t=e.addressLines,r=e.givenName,a=e.familyName,n=e.locality,o=e.administrativeArea,c=e.postalCode,i=e.countryCode,s=[r,a].filter(function(e){return e});return{name:s.length?s.join(" "):void 0,address_line1:t&&Array.isArray(t)?t[0]:void 0,address_line2:t&&Array.isArray(t)?t.slice(1).join(", "):void 0,address_city:n,address_state:o,address_zip:c,address_country:i}}return{}},He=Be,Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ye={email:Object(v.u)(v.y),usage:Object(v.u)(v.y)},Je={city:Object(v.u)(v.y),country:Object(v.u)(v.y),line1:Object(v.u)(v.y),line2:Object(v.u)(v.y),postal_code:Object(v.u)(v.y),state:Object(v.u)(v.y)},Ke=Ve({},Je,{town:Object(v.u)(v.y)}),Ge=Object(v.g)({front:Object(v.u)(v.y),back:Object(v.u)(v.y)}),Ze={address:Object(v.u)(Object(v.g)(Je)),dob:Object(v.u)(Object(v.g)({day:Object(v.v)(v.y,Object(v.j)(1,31)),month:Object(v.v)(v.y,Object(v.j)(1,12)),year:Object(v.v)(v.y,v.q)})),first_name:Object(v.u)(v.y),last_name:Object(v.u)(v.y),maiden_name:Object(v.u)(v.y),verification:Object(v.u)(Object(v.v)(Object(v.g)({document:Object(v.u)(v.y),document_back:Object(v.u)(v.y),additional_document:Object(v.u)(v.y),additional_document_back:Object(v.u)(v.y)}),Object(v.g)({document:Object(v.u)(Ge),additional_document:Object(v.u)(Ge)})))},$e={card:{name:Object(v.u)(v.y),address_line1:Object(v.u)(v.y),address_line2:Object(v.u)(v.y),address_city:Object(v.u)(v.y),address_state:Object(v.u)(v.y),address_zip:Object(v.u)(v.y),address_country:Object(v.u)(v.y),currency:Object(v.u)(v.y),number:Object(v.n)("Elements"),cvc:Object(v.n)("Elements"),exp_month:Object(v.n)("Elements"),exp_year:Object(v.n)("Elements")},cvc_update:{cvc:Object(v.n)("Elements")},pii:{id_number:Object(v.u)(v.y),personal_id_number:Object(v.u)(v.y),ssn_last_4:Object(v.u)(v.y)},bank_account:{account_number:Object(v.u)(Object(v.e)([x.a.iban],"The 'account_number' parameter is not supported when creating a token with the '"+x.a.iban+"' Element")(v.y)),country:Object(v.u)(Object(v.e)([x.a.iban],"The 'country' parameter is not supported when creating a token with the '"+x.a.iban+"' Element")(v.y)),currency:Object(v.u)(v.y),routing_number:Object(v.u)(Object(v.e)([x.a.iban],"The 'routing_number' parameter is not supported when creating a token with the '"+x.a.iban+"' Element")(v.y)),account_use:Object(v.u)(v.y),account_holder_name:Object(v.u)(v.y),account_holder_type:Object(v.u)(v.y),debit_agreement_shown_and_accepted:Object(v.u)(v.c)},account:{legal_entity:Object(v.u)(Object(v.g)(Ve({},Ze,{additional_owners:Object(v.u)(Object(v.b)(Object(v.g)(Ze))),address_kana:Object(v.u)(Object(v.g)(Ke)),address_kanji:Object(v.u)(Object(v.g)(Ke)),business_name:Object(v.u)(v.y),business_name_kana:Object(v.u)(v.y),business_name_kanji:Object(v.u)(v.y),business_tax_id:Object(v.u)(v.y),business_vat_id:Object(v.u)(v.y),first_name_kana:Object(v.u)(v.y),first_name_kanji:Object(v.u)(v.y),gender:Object(v.u)(Object(v.s)("male","female")),last_name_kana:Object(v.u)(v.y),last_name_kanji:Object(v.u)(v.y),personal_address:Object(v.u)(Object(v.g)(Je)),personal_address_kana:Object(v.u)(Object(v.g)(Ke)),personal_address_kanji:Object(v.u)(Object(v.g)(Ke)),personal_id_number:Object(v.u)(v.y),phone_number:Object(v.u)(v.y),ssn_last_4:Object(v.u)(Object(v.x)(4,4)),tax_id_registrar:Object(v.u)(v.y),type:Object(v.u)(Object(v.s)("individual","company","non_profit","government_entity")),structure:Object(v.u)(Object(v.s)("government_instrumentality","governmental_unit","incorporated_non_profit","limited_liability_partnership","multi_member_llc","private_company","private_corporation","private_partnership","public_company","public_corporation","public_partnership","single_member_llc","sole_proprietorship","tax_exempt_government_instrumentality","unincorporated_association","unincorporated_non_profit")),company_verification:Object(v.u)(Object(v.g)({document:v.y,document_back:Object(v.u)(v.y)}))}))),individual:Object(v.u)(Object(v.g)(Ve({},Ze,{first_name_kana:Object(v.u)(v.y),first_name_kanji:Object(v.u)(v.y),last_name_kana:Object(v.u)(v.y),last_name_kanji:Object(v.u)(v.y),address_kana:Object(v.u)(Object(v.g)(Ke)),address_kanji:Object(v.u)(Object(v.g)(Ke)),gender:Object(v.u)(Object(v.s)("male","female")),email:Object(v.u)(v.y),phone:Object(v.u)(v.y),id_number:Object(v.u)(v.y),ssn_last_4:Object(v.u)(Object(v.x)(4,4)),relationship:Object(v.u)(Object(v.g)(Je))}))),company:Object(v.u)(Object(v.g)({name:Object(v.u)(v.y),name_kana:Object(v.u)(v.y),name_kanji:Object(v.u)(v.y),phone:Object(v.u)(v.y),tax_id:Object(v.u)(v.y),tax_id_registrar:Object(v.u)(v.y),vat_id:Object(v.u)(v.y),structure:Object(v.u)(Object(v.s)("government_instrumentality","governmental_unit","incorporated_non_profit","limited_liability_partnership","multi_member_llc","private_company","private_corporation","private_partnership","public_company","public_corporation","public_partnership","single_member_llc","sole_proprietorship","tax_exempt_government_instrumentality","unincorporated_association","unincorporated_non_profit")),directors_provided:Object(v.u)(v.c),owners_provided:Object(v.u)(v.c),address:Object(v.u)(Object(v.g)(Je)),address_kana:Object(v.u)(Object(v.g)(Ke)),address_kanji:Object(v.u)(Object(v.g)(Ke)),verification:Object(v.u)(Object(v.g)({document:Object(v.g)({front:Object(v.u)(v.y),back:Object(v.u)(v.y)})}))})),business_type:Object(v.u)(Object(v.s)("individual","company","non_profit","government_entity")),tos_shown_and_accepted:Object(v.u)(Object(v.h)(!0))},person:Ve({},Ze,{first_name_kana:Object(v.u)(v.y),first_name_kanji:Object(v.u)(v.y),last_name_kana:Object(v.u)(v.y),last_name_kanji:Object(v.u)(v.y),address_kana:Object(v.u)(Object(v.g)(Ke)),address_kanji:Object(v.u)(Object(v.g)(Ke)),gender:Object(v.u)(Object(v.s)("male","female")),email:Object(v.u)(v.y),phone:Object(v.u)(v.y),id_number:Object(v.u)(v.y),ssn_last_4:Object(v.u)(Object(v.x)(4,4)),relationship:Object(v.u)(Object(v.g)({account_opener:Object(v.u)(v.c),representative:Object(v.u)(v.c),executive:Object(v.u)(v.c),director:Object(v.u)(v.c),owner:Object(v.u)(v.c),percent_ownership:Object(v.u)(Object(v.j)(0,100)),title:Object(v.u)(v.y)}))})},Qe=function(e){var t=Ye,r=$e[e];return Object(v.w)(Ve({},t,r,i({},e,Object(v.u)(Object(v.w)(r)))))},Xe={transformElementData:function(e,t,r){switch(de[e]){case le.card:var a=Le(ze(t)),n=a.card,o=a.legacyOwner,c=r&&r.length?De(r):void 0;return{data:{card:Ve({},n,o)},pastedFields:c,type:le.card,warnings:[]};case le.bank_account:return{data:{bank_account:t[e]?{account_number:Object(Ue.b)(t[e]),country:t[e].slice(0,2)}:{}},type:"bank_account",warnings:[]};default:throw new Error("No corresponding token type for this Element: "+e+".")}},transformData:function(e,t,r){if("apple_pay"===e){var a=t.token,n=t.currencyCode,o=t.total,s=a;if("simulated identifier"===s.transactionIdentifier.toLowerCase()){var u=o&&o.amount?o.amount:"0",l=n?n.toLowerCase():"usd";s=Ve({paymentData:""},s,{cardNumber:"4242424242424242",transactionIdentifier:"ApplePayStubs~4242424242424242~"+u+"~"+l+"~"+Math.random().toString(36).slice(-10)})}return{type:le.card,data:{pk_token:JSON.stringify(s.paymentData),pk_token_transaction_id:s.transactionIdentifier,pk_token_payment_network:s.paymentMethod.network,pk_token_instrument_name:s.paymentMethod.displayName,card:t.billingContact?He(t.billingContact):{}},warnings:[]}}var d=Object(v.F)(v.s.apply(void 0,c(Object.keys($e))),e,"token type"),p=d.value,_=Object(v.F)(Qe(p),t,"token creation parameter",{element:r}),m=_.value||{},f=m[e],b=Object.keys($e[p]),y=Ve(i({},p,Ve({},Object(w.i)(m,b),f)),Object(w.h)(m,[].concat(c(b),[e])));return{type:e,data:Object(w.f)({},y),warnings:_.warnings}},create:function(e){return Object(xe.a)(Object(w.c)(e,["card","address_zip"]))?y.a.resolve({type:"error",error:Re("card_number_in_postal_code_field","address_zip")}):Object(xe.a)(Object(w.c)(e,["card","name"]))?y.a.resolve({type:"error",error:Re("card_number_in_name_field","name")}):Me("tokens","POST",e)}},et={type:Object(v.s)("au_becs_debit"),currency:Object(v.s)("aud"),au_becs_debit:Object(v.g)({bsb_number:v.y,account_number:v.y}),mandate:Object(v.w)({acceptance:Object(v.g)({status:Object(v.s)("accepted")})})},tt={transformElementData:function(e,t,r,a){var n=a&&a.length?De(a):void 0,o=ze(t);switch(r){case"au_becs_debit":return{type:A.au_becs_debit,data:{au_becs_debit:{bsb_number:Object(Ue.c)(o.bsbValue),account_number:o.accountNumberValue}}};case"card":var c=Le(o);return{type:A.card,data:{card:c.card,owner:c.owner},pastedFields:n};case"ideal":return{type:A.ideal,data:{ideal:{bank:o[e]}}};case"sepa_debit":return{type:A.sepa_debit,data:{sepa_debit:{iban:Object(Ue.b)(o[e])}}};default:return Object(m.a)(r)}},transformData:function(e,t){switch(e){case"au_becs_debit":return Object(v.F)(Object(v.w)(et),t,"source creation parameter"),{type:e,data:Object(w.f)(t,{mandate:{acceptance:{type:"online",online:{infer_from_client:!0}}}})};default:return{type:e,data:t}}},retrieve:function(e){return function(t,r){return Me(e+"/"+t,"GET",r)}}("sources"),create:function(e){return Object(xe.a)(Object(w.c)(e,["owner","address","postal_code"]))?y.a.resolve({type:"error",error:Re("card_number_in_postal_code_field","postal_code")}):Object(xe.a)(Object(w.c)(e,["owner","name"]))?y.a.resolve({type:"error",error:Re("card_number_in_name_field","name")}):Me("sources","POST",e)}},rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},at={retrieve:function(e,t,r){return Me("payment_intents/"+e,"GET",rt({},r,{client_secret:t}))},confirm:function(e,t,r){return Object(xe.a)(Object(w.c)(r,["payment_method_data","billing_details","address","postal_code"]))?y.a.resolve({type:"error",error:Re("card_number_in_postal_code_field","postal_code")}):Object(xe.a)(Object(w.c)(r,["payment_method_data","billing_details","name"]))?y.a.resolve({type:"error",error:Re("card_number_in_name_field","name")}):Me("payment_intents/"+e+"/confirm","POST",rt({},r,{client_secret:t}))},sourceCancel:function(e,t){return Me("payment_intents/"+e+"/source_cancel","POST",rt({},t))},verifyMicrodeposits:function(e,t,r){return Me("payment_intents/"+e+"/verify_microdeposits","POST",rt({},r,{client_secret:t}))}},nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ot={confirm:function(e,t,r){return Me("setup_intents/"+e+"/confirm","POST",nt({},r,{client_secret:t}))},retrieve:function(e,t,r){return Me("setup_intents/"+e,"GET",nt({},r,{client_secret:t}))},sourceCancel:function(e,t){return Me("setup_intents/"+e+"/source_cancel","POST",nt({},t))},verifyMicrodeposits:function(e,t,r){return Me("setup_intents/"+e+"/verify_microdeposits","POST",nt({},r,{client_secret:t}))}},ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},it={transformElementData:function(e,t,r,a){var n=a&&a.length?De(a):void 0,o=t.value,c=void 0;switch(r){case"au_becs_debit":return c=ze(ct({},o)),{type:A.au_becs_debit,data:{au_becs_debit:{bsb_number:Object(Ue.c)(c.bsbValue),account_number:c.accountNumberValue}}};case"card":c=ze(ct({},o));var i=Le(c);return{type:A.card,data:{card:i.card,billing_details:i.owner},pastedFields:n};case"fpx":return c=ze(ct({},o,{accountHolderType:t.accountHolderType})),{type:A.fpx,data:{fpx:{bank:c[e],account_holder_type:c.accountHolderType}}};case"ideal":return c=ze(ct({},o)),{type:A.ideal,data:{ideal:{bank:c.idealBank}}};case"sepa_debit":return c=ze(ct({},o)),{type:A.sepa_debit,data:{sepa_debit:{iban:Object(Ue.b)(c[e])}}};default:return Object(m.a)(r)}},transformData:function(e,t){return{type:e,data:t}},create:function(e){return Object(xe.a)(Object(w.c)(e,["billing_details","address","postal_code"]))?y.a.resolve({type:"error",error:Re("card_number_in_postal_code_field","postal_code")}):Object(xe.a)(Object(w.c)(e,["billing_details","name"]))?y.a.resolve({type:"error",error:Re("card_number_in_name_field","name")}):Me("payment_methods","POST",e)}},st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ut={create:Ce("payment_pages"),retrieve:function(e,t){return Me("payment_pages/"+e,"GET",t,{includeErrorStatus:!0})},checkState:function(e,t){return Me("payment_pages/"+e+"/poll","GET",st({},t))},checkWebhookStatus:function(e,t){return Me("checkout/sessions/completed_webhook_delivered/"+e,"GET",st({},t))}},lt={object:v.y,session:v.y},dt={create:Ce("apple_pay/sessions"),transforms:Object(v.w)(lt)},pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_t={"250x400":"01","390x400":"02","500x600":"03","600x400":"04",fullScreen:"05"},mt=function(e,t){return t?e<390?_t["250x400"]:e<500?_t["390x400"]:e<600?_t["500x600"]:e<768?_t["600x400"]:_t.fullScreen:_t.fullScreen},ft={authenticate:function(e,t,r,a,n){return Me("3ds2/authenticate","POST",pt({source:e,browser:JSON.stringify(pt({},a,{challengeWindowSize:r?mt(t,r):null,threeDSCompInd:"Y",browserJavaEnabled:navigator.javaEnabled(),browserJavascriptEnabled:!0,browserLanguage:navigator.language||navigator.browserLanguage,browserColorDepth:String(screen.colorDepth),browserScreenHeight:String(screen.height),browserScreenWidth:String(screen.width),browserTZ:String((new Date).getTimezoneOffset()),browserUserAgent:navigator.userAgent}))},n))},completeChallenge:function(e,t,r){return Me("3ds2/challenge_complete","POST",pt({source:e},r))}},bt={create:Ce("radar/session")},yt=function(e,t){switch(e.type){case"error":return e;case"object":return{type:"object",object:Object(v.F)(t,e.object,"[internal request]").value};default:return Object(m.a)(e,"Error parsing result from an internal request.")}},ht=r("iwWn"),vt=function(e,t,r){var a=Object(X.d)(t);switch(e.type){case"error":return{type:"error",error:Object(ht.a)(e.error,a,r),locale:a};case"object":return{type:"object",object:e.object,locale:a};default:return Object(m.a)(e.type)}},jt=function(){function e(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pt=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),kt=[le.account,le.bank_account,le.person,le.pii,le.cvc_update,"apple_pay"],wt=function(e){return{object_id:String(e.id),object_kind:String(e.object),object_type:String(e.type||void 0),object_livemode:String(e.livemode)}},Et=function(e){return e.replace("https://checkout.stripe.com/","https://checkout.stripe.com/")},St=function(e,t){return{action:"stripe-safe-controller-action-response",payload:{nonce:e,caRes:t}}},Tt=function(e,t){return{action:"stripe-safe-controller-action-error",payload:{nonce:e,caErr:t}}},Ft=function(){function e(e){var t=this;It.call(this);var r=Object(E.a)(e),a=r.origin,n=l(r,["origin"]),o=Object(v.F)(Object(v.w)({controllerId:Object(v.u)(v.y),__privateApiUrl:Object(v.u)(v.y),apiKey:Object(v.u)(v.y),apiVersion:Object(v.u)(v.y),stripeAccount:Object(v.u)(v.y),betas:Object(v.u)(Object(v.b)(v.t.apply(void 0,u(O)))),referrer:Object(v.u)(v.y),stripeJsId:Object(v.u)(v.y),locale:Object(v.u)(v.y),startTime:Object(v.u)(v.y)}),n,"[internal interface]",{origin:ee.g||String(a)}),c=o.value,i=c.apiKey,s=c.apiVersion,d=c.__privateApiUrl,p=c.stripeAccount,_=c.betas,m=c.controllerId,f=c.stripeJsId,b=c.referrer,y=c.locale,h=c.startTime;if(!(i&&f&&m&&h))throw new Error("It looks like Stripe.js was not loaded correctly");this.startTimestamp=R.a.fromPosixTime(Number(h)),this.apiKey=i,this.apiVersion=s,this.stripeAccount=p,this.stripeJsId=f,this.id=window.name,this.betas=_,this.controllerId=m,this.globalLocale=y||null,this.wrappers=[],this.wrapperEventData=g([]);var j=Object(F.g)(ee.j);j&&j.host!==window.location.host?this.referrer=ee.j:"string"==typeof b?this.referrer=b:(this.referrer="",this.report("controller.missing_referrer")),this.shouldWarn=Object(S.b)(i)===S.a.test,d&&(Te(d)||this.warn("__privateApiUrl can only be used by Stripe-owned integrations, with stripe.com or stripe.me domains.")),Fe(function(){t._sendParentMessage({action:"stripe-api-call",payload:{}})}),this.frames={},this.groups={},this.requests={},this.cachedRadarSessions={},this._setupPostMessage(),Object(te.a)(this),this._sendParentMessage({action:"stripe-controller-load",payload:{}}),this.report("controller.load")}return Pt(e,[{key:"report",value:function(e){oe.log(e,gt({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{key:this.apiKey,referrer:this.referrer},this.betas?{betas:this.betas}:{},{stripe_js_id:this.stripeJsId},this.wrapperEventData))}},{key:"innerAction",value:function(e,t){var r=this;if(ee.e[e]){var a=t&&"object"===(void 0===t?"undefined":Ot(t))?t:{},n=void 0;switch(e){case"TOKENIZE":n=this.actionTokenizeForInner;break;case"RETRIEVE_PAYMENT_INTENT":n=this.actionRetrievePaymentIntentForInner;break;case"RETRIEVE_SETUP_INTENT":n=this.actionRetrieveSetupIntentForInner;break;case"COMPLETE_CHALLENGE_3DS2":n=this.actionCompleteChallenge3DS2;break;default:return Object(m.b)(e),this.report("fatal.unhandled_action",{type:e,options:t}),y.a.reject(new h.a("Unhandled action: "+e))}return this.report(e.toLowerCase(),{element:t.elementName}),new y.a(function(e){e(n.call(r,a))})}return this.report("fatal.unknown_action",{type:e,options:t}),y.a.reject(new h.a("Unknown action: "+e))}},{key:"authenticationParams",value:function(){return{key:this.apiKey,_stripe_account:this.stripeAccount,_stripe_version:this.apiVersion}}},{key:"paymentMetadata",value:function(){return{payment_user_agent:ie,time_on_page:this.startTimestamp.getElapsedTime(),referrer:this.referrer}}},{key:"transformConfirmWithSourceParams",value:function(e,t){switch(e.expected_payment_method_type){case"card":return t.handleActions?gt({},e,{use_stripe_sdk:!0}):e;default:return e}}},{key:"transformConfirmWithPaymentMethodParams",value:function(e,t){switch(e.expected_payment_method_type){case"acss_debit":case"au_becs_debit":case"bacs_debit":case"bancontact":case"ideal":case"sepa_debit":case"sofort":return gt({},e,{mandate_data:{customer_acceptance:{type:"online",online:{infer_from_client:!0}}}});case"card":return t.handleActions?gt({},e,{use_stripe_sdk:!0}):e;default:return e}}},{key:"_transformPaymentMethodOptions",value:function(e){var t=this;return y.a.resolve().then(function(){if(!e||"object"!==(void 0===e?"undefined":Ot(e)))return e;var r=e.card,a=l(e,["card"]);if(!r||"object"!==(void 0===r?"undefined":Ot(r)))return e;var n=r.cvc,o=l(r,["cvc"]);if(null==n)return e;var c=B(n);return c?t._retrieveElementData(c._frame.id,!1).then(function(e){return"error"===e.type?y.a.reject(e):gt({},a,{card:gt({},o,{cvc:e.value.cardCvc})})}):gt({},a,{card:gt({},r,{payment_user_agent:se})})}).then(function(e){return{type:"payment_method_options",paymentMethodOptions:e}},function(e){return e})}},{key:"createPaymentMethodParamsWithElement",value:function(e,t){var r,a=this,n=e.frameId,o=e.elementName,c=e.type,i=e.paymentMethodData,u=e.mids,l=z(o,c),d=Object(v.f)((r={},s(r,x.a.auBankAccount,Object(v.s)(A.au_becs_debit)),s(r,x.a.card,Object(v.s)(A.card)),s(r,x.a.cardNumber,Object(v.s)(A.card)),s(r,x.a.cardExpiry,Object(v.s)(A.card)),s(r,x.a.cardCvc,Object(v.s)(A.card)),s(r,x.a.postalCode,Object(v.s)(A.card)),s(r,x.a.idealBank,Object(v.s)(A.ideal)),s(r,x.a.fpxBank,Object(v.s)(A.fpx)),s(r,x.a.iban,Object(v.s)(A.sepa_debit)),r)),p=Object(v.F)(d,l,"type",{element:o}).value;return this._retrieveElementData(n).then(function(e){if("error"===e.type)return a.report(t+".validation_error",{error:e.error,element:o}),e;var r=e.element,n=e.locale,c=e.pastedFields,s=it.transformElementData(r,e,p,c),l=s.data,d=s.type,_=s.pastedFields?{pastedFields:s.pastedFields}:{},m=Object(w.f)({type:d},i,l);return a.transformPaymentMethodParams(gt({data:m,elementName:r,mids:u},_)).then(function(e){return{type:"element_payment_method_params",locale:n,paymentMethodParams:a.rawCardDataPresent(i)?gt({},e,{payment_user_agent:ue}):e}})})}},{key:"createSourceParamsWithElement",value:function(e,t){var r,a=this,n=e.frameId,o=e.elementName,c=e.type,i=e.sourceData,u=e.mids,l=z(o,c),d=Object(v.f)((r={},s(r,x.a.auBankAccount,Object(v.s)(A.au_becs_debit)),s(r,x.a.iban,Object(v.s)(A.sepa_debit)),s(r,x.a.card,Object(v.s)(A.card)),s(r,x.a.cardNumber,Object(v.s)(A.card)),s(r,x.a.cardExpiry,Object(v.s)(A.card)),s(r,x.a.cardCvc,Object(v.s)(A.card)),s(r,x.a.postalCode,Object(v.s)(A.card)),s(r,x.a.idealBank,Object(v.s)(A.ideal)),r)),p=Object(v.F)(d,l,"type",{element:o}).value;return this._retrieveElementData(n).then(function(e){if("error"===e.type)return a.report(t+".validation_error",{error:e.error,element:o}),e;var r=e.element,n=e.locale,c=e.value,s=e.pastedFields,l=tt.transformElementData(r,c,p,s),d=l.data,_=l.type,m=l.pastedFields?{pastedFields:l.pastedFields}:{},f=Object(w.f)({type:_},i,d);return a.transformSourceParams(gt({data:f,elementName:r,mids:u},m)).then(function(e){return{type:"element_source_params",locale:n,sourceParams:a.rawCardDataPresent(i)?gt({},e,{payment_user_agent:ue}):e}})})}},{key:"createPaymentMethodParamsWithData",value:function(e){var t=e.type,r=e.paymentMethodData,a=e.mids;if("card"===t){var n=Object(v.F)(Object(v.u)(v.r),r.card,"createPaymentMethod card data"),o=n.value;if(o){var c=Object(v.F)(Object(v.u)(v.y),o.token,"createPaymentMethod token string"),i=c.value,s=!!i,u=this.hasValidBrandWalletParams(o);if(!s&&!u)return this.transformPaymentMethodParams({data:gt({type:t},r),mids:a}).then(function(e){return{type:"data_payment_method_params",paymentMethodParams:gt({},e,{payment_user_agent:se})}})}}return this.transformPaymentMethodParams({data:gt({type:t},r),mids:a}).then(function(e){return{type:"data_payment_method_params",paymentMethodParams:e}})}},{key:"hasValidBrandWalletParams",value:function(e){if(e.masterpass||e.visa_checkout){var t=Object.keys(e);if(1!==t.length){var r=t.filter(function(e){return"visa_checkout"!==e&&"masterpass"!==e});throw new h.a("Unexpected parameters for "+(e.visa_checkout?"Visa Checkout":"Masterpass")+": "+r.join(", "))}return!0}return!1}},{key:"createSourceParamsWithData",value:function(e){var t=e.type,r=e.sourceData,a=e.mids;if("card"===t){var n=Object(v.F)(Object(v.u)(v.r),r.card,"createSource card data"),o=n.value,c=Object(v.F)(Object(v.u)(v.y),r.token,"createSource token string"),i=c.value,s=o&&this.hasValidBrandWalletParams(o),u=!!i;if(!s&&!u)return this.transformSourceParams({data:gt({type:t},r),mids:a}).then(function(e){return{type:"data_source_params",sourceParams:gt({},e,{payment_user_agent:se})}})}return this.transformSourceParams({data:gt({type:t},r),mids:a}).then(function(e){return{type:"data_source_params",sourceParams:e}})}},{key:"transformSourceParams",value:function(e){var t=this,r=e.mids,a=e.data,n=e.pastedFields,o=tt.transformData(a.type,a),c=o.data;return new y.a(function(e){e(gt({},c,r||{},{pasted_fields:n},t.paymentMetadata()))})}},{key:"transformPaymentMethodParams",value:function(e){var t=this,r=e.mids,a=e.data,n=e.pastedFields,o=it.transformData(a.type,a),c=o.data;return new y.a(function(e){e(gt({},c,r||{},{pasted_fields:n},t.paymentMetadata()))})}},{key:"createSourceWithParams",value:function(e){var t=this,r=e.sourceParams,a=e.locale,n=e.elementName;return tt.create(gt({},r,this.authenticationParams())).then(function(e){return t.reportFetchResult("create_source",e,n?{element:n}:{}),t._localizeFetchResult(e,a)}).catch(function(e){return t.handleFetchErrorTagged(e,a)})}},{key:"createPaymentMethodWithParams",value:function(e){var t=this,r=e.paymentMethodParams,a=e.locale,n=e.elementName;return it.create(gt({},r,this.authenticationParams())).then(function(e){return t.reportFetchResult("create_payment_method",e,n?{element:n}:{}),t._localizeFetchResult(e,a)}).catch(function(e){return t.handleFetchErrorTagged(e,a)})}},{key:"actionTokenizeForInner",value:function(e){var t=e.type,r=e.card,a=e.elementName,n=e.mids;return this.tokenizeWithData({type:t,elementName:a,elementData:{card:r},tokenData:l(e,["type","card","elementName","mids"]),mids:n,locale:this._resolveLocale()})}},{key:"actionRetrievePaymentIntentForInner",value:function(e){return this.handlers.retrievePaymentIntent({intentSecret:{id:e.id,clientSecret:e.clientSecret},hosted:!1})}},{key:"actionRetrieveSetupIntentForInner",value:function(e){return this.handlers.retrieveSetupIntent({intentSecret:{id:e.id,clientSecret:e.clientSecret},hosted:!1})}},{key:"actionCompleteChallenge3DS2",value:function(e){var t=this;return ft.completeChallenge(e.threeDS2Source,e.cres,this.authenticationParams()).then(function(e){return t.reportFetchResult("complete_challenge_3ds2",e),t._localizeFetchResult(e)}).catch(function(e){return t.handleFetchErrorTagged(e)})}},{key:"tokenizeWithData",value:function(e){var t=this,r=e.locale,a=e.elementName,n=e.mids,o=e.type,c=e.tokenData,i=e.elementData,s=e.pastedFields,u=Xe.transformData(o,c,a),l=u.data;u.warnings.forEach(function(e){return t.warn(e)});var d=Object(w.f)({},l,i||{});return Xe.create(gt({},d,n,this.paymentMetadata(),this.authenticationParams(),{pasted_fields:s})).then(function(e){return t.reportFetchResult("tokenize",e,a?{element:a}:{}),t._localizeFetchResult(e,r)}).catch(function(e){return t.handleFetchErrorTagged(e,r)})}},{key:"_retrieveElementData",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=void 0,n=void 0,o=this.frames[e];if(o){var c=o.group,i=o.type,s=void 0;if(c&&r){s=this.groups[c].filter(function(e){return t.frames[e].type===i})}else s=[e];return this.requestStateFromFrames(s).then(function(t){var r={},o={},c=void 0,i=void 0;if(0===t.filter(function(t){return t&&t.frameId===e}).length)throw new h.a("We could not retrieve data from the specified Element.\n              Please make sure the Element you are attempting to use is still mounted.");for(var s=0;s<t.length;s+=1){var u=t[s];if(u){var l=u.meta,d=u.value,p=u.locale,_=u.element,m=u.frameId,f=u.pastedFields;if(l.brand&&(c=l.brand),l.accountHolderType&&(i=l.accountHolderType),m===e&&(a=p,n=_),l.error)return{type:"error",error:l.error,locale:l.locale};r=gt({},r,d),o=gt({},o,f)}}return gt({type:"data",value:r,locale:a,element:n,pastedFields:Object.keys(o)},c?{clientCardBrand:c}:{},i?{accountHolderType:i}:{})},function(e){throw e})}throw new h.a("Please use the same instance of `Stripe` you used to create this Element to create your Source or Token.")}},{key:"_resolveLocale",value:function(e){return e||this.globalLocale||"auto"}},{key:"requestStateFromFrames",value:function(e){return y.a.all(e.map(this.requestState))}},{key:"sendMessage",value:function(e,t){this._sendMessage({message:t,type:"controller",frameId:e,controllerId:this.controllerId})}},{key:"_sendMessage",value:function(e){var t=this.frames[e.frameId].queuedMessages;this._isFrameReady(e.frameId)?Object(T.b)(e):t.push(e)}},{key:"_isFrameReady",value:function(e){var t=this.frames[e].loaded;return!!Object(N.b)(e)&&t}},{key:"_setupPostMessage",value:function(){var e=this;window.addEventListener("message",function(t){var r=t.data,a=t.origin,n=Object(T.a)(r);if(n){var o=n.message;"stripe-controller-report"===o.action?e.report(o.payload.event,o.payload.data):"stripe-controller-warn"===o.action?e.warn.apply(e,u(o.payload.args)):Object(P.a)(x.c,a)?e._handleInnerMessage(n,a):e._handleOuterMessage(n,a)}})}},{key:"_handleOuterMessage",value:function(e,t){var r=this,a=e.message;switch(a.action){case"stripe-user-createframe":var n=a.payload,o=n.newFrameId,c=n.frameType,i=n.groupId;if(o&&(this.frames[o]={loaded:!1,queuedMessages:[],group:i,type:c},i)){this.groups[i]=[].concat(u(this.groups[i]||[]),[o])}break;case"stripe-safe-controller-action-request":this.handleAction(a.payload,t);break;case"stripe-frame-unload":var s=a.payload.unloadedFrameId;this.frames[s]=gt({},this.frames[s],{loaded:!1});break;case"stripe-frame-destroy":delete this.frames[a.payload.destroyedFrameId];break;case"stripe-frame-load":var l=a.payload.loadedFrameId,d=this.frames[l],p=d.queuedMessages;this.frames[l]=gt({},d,{queuedMessages:[],loaded:!0}),p.forEach(function(e){return r._sendMessage(e)}),this.sendMessage(l,{action:"stripe-controller-init",payload:{}});break;case"stripe-wrapper-register":this.wrappers.push(a.payload.wrapperLibrary),this.wrapperEventData=g(this.wrappers)}}},{key:"_handleInnerMessage",value:function(e,t){var r=this,a=e.frameId,n=e.message,o=a&&this.frames[a];if(o)switch(n.action){case"stripe-controller-request-complete":var c=n.payload,i=c.nonce,s=c.result,u=c.error;if(!i||"string"!=typeof i||!this.requests[i])break;var l=this.requests[i],d=l.resolve,p=l.reject;s&&"object"===(void 0===s?"undefined":Ot(s))?d(gt({},s,{frameId:a})):u&&"object"===(void 0===u?"undefined":Ot(u))&&p(gt({},u,{frameId:a})),delete this.requests[i];break;case"stripe-inner-action":this.innerAction(n.payload.type,n.payload.options,t).then(function(e){return r.sendMessage(a,{action:"stripe-inner-action-complete",payload:{nonce:n.payload.nonce,result:e}})},function(e){ee.e[n.payload.type]&&r.report(n.payload.type.toLowerCase()+".error",{options:n.payload.options,error:e}),r.sendMessage(a,{action:"stripe-inner-action-error",payload:{nonce:n.payload.nonce,error:e.message}})});break;case"stripe-group-update":case"stripe-group-action":var _=o.group,m=_&&this.groups[_];m&&a&&-1!==m.indexOf(a)&&m.forEach(function(t){a!==t&&r._sendMessage(gt({},e,{frameId:t,type:"controller"}))});break;default:this._handleOuterMessage(e,t)}else this._handleOuterMessage(e,t)}}]),e}(),It=function(){var e=this;this.warn=function(){e.shouldWarn&&b.apply(void 0,arguments)},this.controllerFor=function(){return"ControllerApp"},this.reportFetchResult=function(t,r,a){switch(r.type){case"error":e.report(t+".server_error",gt({error:r.error},a));break;case"object":e.report(t+".success",gt({},wt(r.object),a));break;default:Object(m.a)(r)}},this.handleFetchErrorTagged=function(t){if("NetworkError"===t.name)return e._localizeFetchResult({type:"error",error:{type:"api_connection_error"}});throw t},this.rawCardDataPresent=function(t){if(t.card&&"object"===Ot(t.card)){var r=t.card.number||t.card.cvc||t.card.exp_month||t.card.exp_year;return r&&e.report("create_source_card_data",{number:!!t.card.number,cvc:!!t.card.cvc,exp_month:!!t.card.exp_month,exp_year:!!t.card.exp_year}),r}return!1},this.sourcesConfirmIntentParams=function(t,r){var a=t.confirmMode,n=t.otherParams,o=t.expectedType,c=t.mids;switch(a.tag){case"source-from-element":return e.createSourceParamsWithElement({frameId:a.frameId,elementName:a.elementName,type:a.type,sourceData:a.data,mids:c},r).then(function(r){return"error"===r.type?r:{type:"confirmParams",locale:r.locale,confirmParams:e.transformConfirmWithSourceParams(gt({},n,{source_data:r.sourceParams,expected_payment_method_type:o}),t.options)}});case"source-from-data":return e.createSourceParamsWithData({elementName:null,type:a.type,sourceData:a.data,mids:c}).then(function(r){return{type:"confirmParams",locale:null,confirmParams:e.transformConfirmWithSourceParams(gt({},n,{source_data:r.sourceParams,expected_payment_method_type:o}),t.options)}});case"source":return y.a.resolve({type:"confirmParams",locale:null,confirmParams:e.transformConfirmWithSourceParams(gt({},n,{source:a.source,expected_payment_method_type:o}),t.options)});default:return Object(m.a)(a)}},this.confirmIntentParams=function(t,r){var a=t.confirmMode,n=t.intentSecret,o=t.otherParams,c=t.expectedType,i=t.options,s=t.mids;if("source-from-element"===a.tag||"source-from-data"===a.tag||"source"===a.tag)return e.sourcesConfirmIntentParams({mids:s,intentSecret:n,otherParams:o,expectedType:c,confirmMode:a,options:i},r);switch(a.tag){case"paymentMethod-from-element":return y.a.all([e._transformPaymentMethodOptions(a.options),e.createPaymentMethodParamsWithElement({frameId:a.frameId,elementName:a.elementName,type:a.type,paymentMethodData:a.data,mids:s},r)]).then(function(t){var r=jt(t,2),a=r[0],n=r[1];return"error"===a.type?a:"error"===n.type?n:{type:"confirmParams",locale:n.locale,confirmParams:e.transformConfirmWithPaymentMethodParams(gt({},o,{payment_method_data:n.paymentMethodParams,payment_method_options:a.paymentMethodOptions,expected_payment_method_type:c}),i)}});case"paymentMethod-from-data":return y.a.all([e._transformPaymentMethodOptions(a.options),e.createPaymentMethodParamsWithData({elementName:null,type:a.type,paymentMethodData:a.data,mids:s})]).then(function(t){var r=jt(t,2),a=r[0],n=r[1].paymentMethodParams;return"error"===a.type?a:{type:"confirmParams",locale:null,confirmParams:e.transformConfirmWithPaymentMethodParams(gt({},o,{payment_method_data:n,payment_method_options:a.paymentMethodOptions,expected_payment_method_type:c}),i)}});case"paymentMethod":return e._transformPaymentMethodOptions(a.options).then(function(t){return"error"===t.type?t:{type:"confirmParams",locale:null,confirmParams:e.transformConfirmWithPaymentMethodParams(gt({},o,{payment_method:a.paymentMethod,payment_method_options:t.paymentMethodOptions,expected_payment_method_type:c}),i)}});case"none":return y.a.resolve({type:"confirmParams",locale:null,confirmParams:gt({},o,{expected_payment_method_type:c})});default:return Object(m.a)(a)}},this.tokenizeWithElement=function(t){var r=t.elementName,a=t.tokenData,n=t.mids;return e._retrieveElementData(t.frameId).then(function(t){if("error"===t.type){var o=t.error,c=t.locale;return e.report("tokenize.validation_error",{error:o,element:r}),{type:"error",error:o,locale:c}}var i=t.value,s=t.element,u=t.pastedFields,l=Xe.transformElementData(s,i,u);return l.warnings.forEach(function(t){return e.warn(t)}),e.tokenizeWithData({type:l.type,locale:t.locale,elementName:s,mids:n,pastedFields:l.pastedFields,clientCardBrand:t.clientCardBrand,elementData:l.data,tokenData:a})})},this._localizeFetchResult=function(t,r){return vt(t,e._resolveLocale(r),e)},this.handlers={confirmSetupIntent:function(t){var r=t.intentSecret,a="confirm_setup_intent";return e.confirmIntentParams(t,a).then(function(n){if("error"===n.type)return n;var o=n.locale,c=n.confirmParams,i=gt({},c,e.authenticationParams());return ot.confirm(r.id,r.clientSecret,i).then(function(r){var n={element:U(t.confirmMode),payment_method_type:t.expectedType};return e.reportFetchResult(a,r,n),e._localizeFetchResult(r,o)})}).catch(e.handleFetchErrorTagged)},retrieveSetupIntent:function(t){var r=t.intentSecret,a=t.hosted,n=t.asErrorIfNotSucceeded,o=t.locale;return ot.retrieve(r.id,r.clientSecret,gt({},e.authenticationParams(),{is_stripe_sdk:a})).then(function(t){e.reportFetchResult("retrieve_setup_intent",t);var r=n?Q(t):t;return e._localizeFetchResult(r,o)}).catch(function(t){return e.handleFetchErrorTagged(t,o)})},cancelSetupIntentSource:function(t){var r=t.intentSecret,a=t.sourceId,n=t.locale;return ot.sourceCancel(r.id,gt({},e.authenticationParams(),{source:a})).then(function(t){return e.reportFetchResult("setup_intent_source_cancel",t),"error"===t.type?e.handlers.retrieveSetupIntent({intentSecret:r,hosted:!1,asErrorIfNotSucceeded:!0,locale:n}):e._localizeFetchResult(Q(t),n)}).catch(function(t){return e.handleFetchErrorTagged(t)})},cancelPaymentIntentSource:function(t){var r=t.intentSecret,a=t.sourceId,n=t.locale;return at.sourceCancel(r.id,gt({},e.authenticationParams(),{source:a})).then(function(t){return e.reportFetchResult("payment_intent_source_cancel",t),"error"===t.type?e.handlers.retrievePaymentIntent({intentSecret:r,hosted:!1,asErrorIfNotSucceeded:!0,locale:n}):e._localizeFetchResult(Q(t),n)}).catch(function(t){return e.handleFetchErrorTagged(t)})},retrievePaymentIntent:function(t){var r=t.intentSecret,a=t.hosted,n=t.asErrorIfNotSucceeded,o=t.locale;return at.retrieve(r.id,r.clientSecret,gt({},e.authenticationParams(),{is_stripe_sdk:a})).then(function(t){e.reportFetchResult("retrieve_payment_intent",t);var r=n?Q(t):t;return e._localizeFetchResult(r,o)}).catch(function(t){return e.handleFetchErrorTagged(t,o)})},confirmPaymentIntent:function(t){var r=t.intentSecret,a="confirm_payment_intent";return e.confirmIntentParams(t,a).then(function(n){if("error"===n.type)return n;var o=n.locale,c=n.confirmParams,i=gt({},c,e.authenticationParams());return at.confirm(r.id,r.clientSecret,i).then(function(r){var n={element:U(t.confirmMode),payment_method_type:t.expectedType};return e.reportFetchResult(a,r,n),e._localizeFetchResult(r,o)})}).catch(e.handleFetchErrorTagged)},fetchLocale:function(t){var r=t.locale;return Object(X.c)(r).then(function(){},function(t){e.report("error.locale_load_error",{error:t,locale:r})})},tokenizeWithElement:this.tokenizeWithElement,tokenizeCvcUpdate:function(t){var r=t.frameId,a=t.mids,n=e._resolveLocale();return e._retrieveElementData(r,!1).then(function(t){return"error"===t.type?(e.report("tokenize.validation_error",{error:t.error,element:"cardCvc"}),t):Xe.create(gt({},a,e.paymentMetadata(),e.authenticationParams(),{cvc_update:{cvc:t.value.cardCvc}})).then(function(t){return e.reportFetchResult("tokenize",t),e._localizeFetchResult(t,n)}).catch(function(t){return e.handleFetchErrorTagged(t,n)})})},tokenizeWithData:function(t){var r=t.type,a=t.elementName,n=t.tokenData,o=t.mids,c=Object(v.F)(v.s.apply(void 0,kt),r,"token type");return e.tokenizeWithData({type:c.value,elementName:a,tokenData:n,mids:o,locale:e._resolveLocale()})},createSourceWithElement:function(t){var r=t.elementName;return e.createSourceParamsWithElement(t,"create_source").then(function(t){return"error"===t.type?t:e.createSourceWithParams({sourceParams:t.sourceParams,locale:t.locale,elementName:r})})},createSourceWithData:function(t){var r=t.elementName;return e.createSourceParamsWithData(t).then(function(t){return e.createSourceWithParams({sourceParams:t.sourceParams,locale:e._resolveLocale(),elementName:r})})},createPaymentMethodWithElement:function(t){var r=t.elementName;return e.createPaymentMethodParamsWithElement(t,"create_payment_method").then(function(t){return"error"===t.type?t:e.createPaymentMethodWithParams({paymentMethodParams:t.paymentMethodParams,locale:t.locale,elementName:r})})},createPaymentMethodWithData:function(t){var r=t.elementName;return e.createPaymentMethodParamsWithData(t).then(function(t){return e.createPaymentMethodWithParams({paymentMethodParams:t.paymentMethodParams,locale:e._resolveLocale(),elementName:r})})},updateCSSFonts:function(t){var r=t.fonts,a=t.groupId;if(e.groups[a]){e.groups[a].forEach(function(t){e.sendMessage(t,{action:"stripe-controller-update",payload:{fonts:r}})})}return y.a.resolve()},createApplePaySession:function(t){var r=t.usesButtonElement;return dt.create(gt({},t.data,e.authenticationParams())).then(function(t){e.reportFetchResult("create_apple_pay_session",t,{usesButtonElement:r});var a=yt(t,dt.transforms);return e._localizeFetchResult(a)})},retrieveSource:function(t){var r=t.source;return tt.retrieve(r.id,gt({client_secret:r.client_secret},e.authenticationParams())).then(function(t){return e.reportFetchResult("retrieve_source",t),e._localizeFetchResult(t)}).catch(e.handleFetchErrorTagged)},createPaymentPage:function(t){var r=t.betas,a=t.mids,n=l(t,["betas","mids"]),o=n.locale||e.globalLocale;return ut.create(gt({},a,n,e.authenticationParams(),{referrer:e.referrer})).then(function(t){if("error"===t.type){var n=t.error;throw e.report("create_payment_page.server_error",{error:n}),new h.a(n.message||n.code||"unexpected error")}if("object"===t.type){var c=t.object.url,i=Object(F.g)(e.referrer);e.report("create_payment_page.success",{url:c});var s=C(JSON.stringify({apiKey:e.apiKey,stripeAccount:e.stripeAccount,referrerOrigin:i?i.origin:null,locale:o,mids:a,betas:r}));t.object.url=Et(c)+"#"+s}return e._localizeFetchResult(t,o)}).catch(function(t){return e.handleFetchErrorTagged(t,o)})},createPaymentPageWithSession:function(t){var r=t.betas,a=t.mids,n=t.sessionId,o=Object(F.g)(e.referrer),c=C(JSON.stringify({apiKey:e.apiKey,stripeAccount:e.stripeAccount,referrerOrigin:o?o.origin:null,mids:a,betas:r})),i=Et("https://checkout.stripe.com/pay/"+encodeURIComponent(n)),s=e._localizeFetchResult({type:"object",object:{url:i+"#"+c}});return y.a.resolve(s)},createRadarSession:function(t){var r=t.mids,a=r?r.muid+"#"+r.guid+"#"+r.sid:"";return e.cachedRadarSessions[a]=e.cachedRadarSessions[a]||function(){var t=e._resolveLocale();return bt.create(gt({},r,{payment_user_agent:ie,referrer:e.referrer},e.authenticationParams())).then(function(r){return e.reportFetchResult("create_radar_session",r),e._localizeFetchResult(r,t)}).catch(function(r){return e.handleFetchErrorTagged(r,t)})}().then(function(t){return"error"===t.type&&delete e.cachedRadarSessions[a],t})},authenticate3DS2:function(t){return ft.authenticate(t.threeDS2Source,t.outerWindowWidth,t.hosted,t.fingerprintResult,e.authenticationParams()).then(function(t){return e.reportFetchResult("authenticate_3ds2",t),e._localizeFetchResult(t)}).catch(function(t){return e.handleFetchErrorTagged(t)})},verifyMicrodepositsForPayment:function(t){var r=t.intentSecret,a=t.data,n=gt({},a,e.authenticationParams());return at.verifyMicrodeposits(r.id,r.clientSecret,n).then(function(t){return e.reportFetchResult("payment_intent_verify_microdeposits",t),e._localizeFetchResult(t)}).catch(function(t){return e.handleFetchErrorTagged(t)})},verifyMicrodepositsForSetup:function(t){var r=t.intentSecret,a=t.data,n=gt({},a,e.authenticationParams());return ot.verifyMicrodeposits(r.id,r.clientSecret,n).then(function(t){return e.reportFetchResult("setup_intent_verify_microdeposits",t),e._localizeFetchResult(t)}).catch(function(t){return e.handleFetchErrorTagged(t)})}},this.handleAction=function(t){var r=t.nonce,a=t.caReq,n={};switch(a.tag){case"CONFIRM_SETUP_INTENT":e._respondUsingPromise(r,function(){return e.handlers.confirmSetupIntent(a.value)});break;case"RETRIEVE_SETUP_INTENT":e._respondUsingPromise(r,function(){return e.handlers.retrieveSetupIntent(a.value)});break;case"CANCEL_SETUP_INTENT_SOURCE":e._respondUsingPromise(r,function(){return e.handlers.cancelSetupIntentSource(a.value)});break;case"RETRIEVE_PAYMENT_INTENT":e._respondUsingPromise(r,function(){return e.handlers.retrievePaymentIntent(a.value)});break;case"CONFIRM_PAYMENT_INTENT":e._respondUsingPromise(r,function(){return e.handlers.confirmPaymentIntent(a.value)});break;case"CANCEL_PAYMENT_INTENT_SOURCE":e._respondUsingPromise(r,function(){return e.handlers.cancelPaymentIntentSource(a.value)});break;case"FETCH_LOCALE":e._respondUsingPromise(r,function(){return e.handlers.fetchLocale(a.value)});break;case"UPDATE_CSS_FONTS":e._respondUsingPromise(r,function(){return e.handlers.updateCSSFonts(a.value)});break;case"CREATE_APPLE_PAY_SESSION":e._respondUsingPromise(r,function(){return e.handlers.createApplePaySession(a.value)});break;case"RETRIEVE_SOURCE":e._respondUsingPromise(r,function(){return e.handlers.retrieveSource(a.value)});break;case"TOKENIZE_WITH_ELEMENT":e._respondUsingPromise(r,function(){return e.handlers.tokenizeWithElement(a.value)});break;case"TOKENIZE_CVC_UPDATE":e._respondUsingPromise(r,function(){return e.handlers.tokenizeCvcUpdate(a.value)});break;case"TOKENIZE_WITH_DATA":e._respondUsingPromise(r,function(){return e.handlers.tokenizeWithData(a.value)});break;case"CREATE_SOURCE_WITH_ELEMENT":e._respondUsingPromise(r,function(){return e.handlers.createSourceWithElement(a.value)});break;case"CREATE_SOURCE_WITH_DATA":e._respondUsingPromise(r,function(){return e.handlers.createSourceWithData(a.value)});break;case"CREATE_PAYMENT_METHOD_WITH_ELEMENT":e._respondUsingPromise(r,function(){return e.handlers.createPaymentMethodWithElement(a.value)});break;case"CREATE_PAYMENT_METHOD_WITH_DATA":e._respondUsingPromise(r,function(){return e.handlers.createPaymentMethodWithData(a.value)});break;case"CREATE_PAYMENT_PAGE":e._respondUsingPromise(r,function(){return e.handlers.createPaymentPage(a.value)}),n={options:a.value};break;case"CREATE_PAYMENT_PAGE_WITH_SESSION":e._respondUsingPromise(r,function(){return e.handlers.createPaymentPageWithSession(a.value)}),n={options:a.value};break;case"CREATE_RADAR_SESSION":e._respondUsingPromise(r,function(){return e.handlers.createRadarSession(a.value)});break;case"AUTHENTICATE_3DS2":e._respondUsingPromise(r,function(){return e.handlers.authenticate3DS2(a.value)});break;case"VERIFY_MICRODEPOSITS_FOR_PAYMENT":e._respondUsingPromise(r,function(){return e.handlers.verifyMicrodepositsForPayment(a.value)});break;case"VERIFY_MICRODEPOSITS_FOR_SETUP":e._respondUsingPromise(r,function(){return e.handlers.verifyMicrodepositsForSetup(a.value)});break;default:Object(m.a)(a)}e.report(a.tag.toLowerCase(),n)},this.requestState=function(t){var r=Object(k.b)(),a=new y.a(function(a,n){e.requests[r]=gt({},e.requests[r],{resolve:a,reject:n}),e._isFrameReady(t)?e.sendMessage(t,{action:"stripe-controller-request",payload:{nonce:r}}):a(void 0)});return e.requests[r]=gt({},e.requests[r],{promise:a}),a},this._respondUsingPromise=function(t,r){new y.a(function(e){return e(r())}).then(function(e){return St(t,e)},function(e){return Tt(t,e)}).then(e._sendParentMessage)},this._sendParentMessage=function(t){Object(T.b)({message:t,type:"inner",frameId:e.id,controllerId:e.controllerId})}},Mt=Ft;!function(){var e=window.location.hash.substring(1).split("?")[0];new Mt(e)}()}},[8]);